<section class="relative min-h-screen overflow-hidden">
  <!-- Fond avec image complète -->
  <div class="absolute inset-0 z-0">
    <img
      src="/images/image1.jpg"
      alt="Regis Drouin, artisan carreleur"
      class="w-full h-full object-cover object-center"
      id="background-image"
      style="opacity: 0"
      loading="lazy"
    />
    <!-- Conteneur du puzzle -->
    <div id="puzzle-container" class="absolute inset-0"></div>
    <!-- Overlay pour lisibilité -->
    <div
      class="absolute inset-0 bg-gradient-to-r from-white/50 to-transparent"
    ></div>
  </div>

  <!-- Contenu texte -->
  <div
    class="hero container relative z-10 min-h-screen mx-auto flex items-center px-4 py-24"
  >
    <div class="max-w-2xl">
      <h1 class="text-4xl md:text-6xl font-bold text-gray-900 mb-6">
        Regis Drouin
      </h1>
      <h2 class="text-2xl md:text-3xl font-semibold text-[#e8950f] mb-8">
        Artisan carreleur
      </h2>
      <p class="text-lg md:text-xl text-gray-700 italic leading-relaxed mb-12">
        Mon approche se distingue par un accompagnement complet et personnalisé.
        Dès le début de votre projet, je vous conseille sur le choix des
        matériaux, des motifs et des techniques de pose les plus adaptés à vos
        besoins et à votre budget.
      </p>
    </div>
  </div>
</section>

<section class="bg-white py-16">
  <div class="container mx-auto px-4">
    <h3 class="text-center font-semibold text-2xl uppercase tracking-wider mb-12">RÉALISATIONS</h3>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
      
      <a href="/images/regis-drouin-carreleur-nantes-carrelage-2.jpg" class="group">
        <div class="bg-white p-6 rounded-lg shadow-md hover:bg-[#e8950f] hover:shadow-lg transition duration-300 h-[400px] flex flex-col">
          <h3 class="text-xl font-semibold mb-4">carrelage imitation parquet</h3>
          <img class="rounded w-full h-[300px] object-cover" src="/images/regis-drouin-carreleur-nantes-carrelage-2.jpg" alt="Plafond rampant" />
        </div>
      </a>
      
      <a href="/images/regis-drouin-carreleur-nantes-Specialiste-en-pose-de-carrelage-1.jpg" class="group">
        <div class="bg-white p-6 rounded-lg shadow-md hover:bg-[#e8950f] hover:shadow-lg transition duration-300 h-[400px] flex flex-col">
          <h3 class="text-xl font-semibold mb-4">faince et tablier</h3>
          <img class="rounded w-full h-[300px] object-cover" src="/images/regis-drouin-carreleur-nantes-Specialiste-en-pose-de-carrelage-1.jpg" alt="Plafond décoratif" />
        </div>
      </a>
      
      <a href="/images/regis-drouin-carreleur-nantes-carrelage-de-votre-salle-de-bains-2.jpg" class="group">
        <div class="bg-white p-6 rounded-lg shadow-md hover:bg-[#e8950f] hover:shadow-lg transition duration-300 h-[400px] flex flex-col">
          <h3 class="text-xl font-semibold mb-4">douche à l'italienne</h3>
          <img class="rounded w-full h-[300px] object-cover" src="/images/regis-drouin-carreleur-nantes-carrelage-de-votre-salle-de-bains-2.jpg" alt="Portes intérieur" />
        </div>
      </a>
      
      <a href="/images/regis-drouin-carreleur-nantes-NoPath-Copie.webp" class="group">
        <div class="bg-white p-6 rounded-lg shadow-md hover:bg-[#e8950f] hover:shadow-lg transition duration-300 h-[400px] flex flex-col">
          <h3 class="text-xl font-semibold mb-4">pavé 10 x 10</h3>
          <img class="rounded w-full h-[300px] object-cover" src="/images/regis-drouin-carreleur-nantes-NoPath-Copie.webp" alt="Portes et verrières" />
        </div>
      </a>
      
    </div>
  </div>
</section>


<section class="bg-white py-12 mx-8">
  <div class="container mx-auto text-center max-w-4xl">
    <h2 class="text-2xl md:text-3xl font-semibold text-gray-800 mb-6">
      Pose de carrelage à Nantes et ses alentours
    </h2>
    <p class="text-lg md:text-xl text-gray-700 leading-relaxed mb-6">
      Vous habitez sur Nantes et ses alentours : Vigneux de Bretagne,
      Saint-Etienne-de-Montluc, St Herblain, Vertou, Sautron, Orvault, ou encore
      d’autres villes de la région ? N’hésitez pas à menodem contacter par
      téléphone, par mail, ou via le formulaire « Demande de devis ».
    </p>
    <!-- Bouton centré -->
    <a
      href="/contact"
      class="bg-[#e8950f] hover:bg-[#c87d08] text-white font-semibold py-3 px-8 rounded-md transition duration-300 inline-block"
    >
      Demander un devis
    </a>
  </div>
</section>

<section class="services py-12 mx-8">
  <div class="container mx-auto text-center">
    <h3 class="text-3xl font-bold text-center mb-8">Nos Services</h3>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-5">
      <!-- Carte 1 - Carrelage -->
      <a href="/carrelage">
        <div
          class="bg-white p-6 rounded-lg shadow-md hover:bg-[#e8950f] hover:shadow-lg transition duration-300 h-[400px] flex flex-col"
        >
          <h3 class="text-xl font-bold mb-4">Pose de carrelage</h3>
          <img
            class="rounded w-full h-[300px] object-cover"
            src="/images/regis-drouin-carreleur-nantes-Votre-carreleur-a-Heric.webp"
            alt="Exemple de carrelage moderne"
          />
        </div>
      </a>

      <!-- Carte 2 - Salle de bains -->
      <a href="/salle-de-bains">
        <div
          class="bg-white p-6 rounded-lg shadow-md hover:bg-[#e8950f] hover:shadow-lg transition duration-300 h-[400px] flex flex-col"
        >
          <h3 class="text-xl font-bold mb-4">Salle de bains</h3>
          <img
            class="rounded w-full h-[300px] object-cover"
            src="/images/regis-drouin-carreleur-nantes-pose-de-carrelage-a-Heric.webp"
            alt="Salle de bains carrelée"
          />
        </div>
      </a>

      <!-- Carte 3 - Terrasse -->
      <a href="/Terrasse">
        <div
          class="bg-white p-6 rounded-lg shadow-md hover:bg-[#e8950f] hover:shadow-lg transition duration-300 h-[400px] flex flex-col"
        >
          <h3 class="text-xl font-bold mb-4">Terrasse extérieure</h3>
          <img
            class="rounded w-full h-[300px] object-cover"
            src="/images/regis-drouin-carreleur-nantes-NoPath-Copie.webp"
            alt="Terrasse en carrelage"
          />
        </div>
      </a>
    </div>
  </div>
</section>

<section class=" py-16">
  <div class="container mx-auto px-4">
      <!-- Titre principal -->
      <div class="text-center mb-12">
          <div class="flex justify-center items-center space-x-4">
              <div class="w-8 h-0.5 bg-amber-500"></div>
              <h2 class="text-4xl font-bold text-amber-500">Nos points forts</h2>
              <div class="w-8 h-0.5 bg-amber-500"></div>
          </div>
      </div>
      
      <!-- Grille des 3 points forts -->
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
          <!-- Point fort 1: Réactivité -->
          <div class="text-center flex flex-col items-center">
              <div class="transform rotate-45 bg-amber-500 w-28 h-28 flex items-center justify-center mb-10">
                  <div class="transform -rotate-45">
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-14 w-14 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                      </svg>
                  </div>
              </div>
              <h3 class="text-3xl font-bold text-amber-500 mb-4">Réactivité</h3>
              <p class="max-w-xs italic">Notre équipe fournit une intervention rapide pour réaliser vos projets de carrelage.</p>
          </div>
          
          <!-- Point fort 2: Conseil -->
          <div class="text-center flex flex-col items-center">
              <div class="transform rotate-45 bg-amber-500 w-28 h-28 flex items-center justify-center mb-10">
                  <div class="transform -rotate-45">
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-14 w-14 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z" />
                      </svg>
                  </div>
              </div>
              <h3 class="text-3xl font-bold text-amber-500 mb-4">Conseil</h3>
              <p class="max-w-xs italic">Nous vous proposons des conseils pour mener à bien votre projet.</p>
          </div>
          
          <!-- Point fort 3: Expérience -->
          <div class="text-center flex flex-col items-center">
              <div class="transform rotate-45 bg-amber-500 w-28 h-28 flex items-center justify-center mb-10">
                  <div class="transform -rotate-45">
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-14 w-14 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
                      </svg>
                  </div>
              </div>
              <h3 class="text-3xl font-bold text-amber-500 mb-4">Expérience</h3>
              <p class="max-w-xs italic">Depuis 2012, REGIS DROUIN met à votre disposition son expertise et son savoir-faire.</p>
          </div>
      </div>
  </div>
</section>


<style>
  /* Animations */
  @keyframes slide-in-left {
    from {
      transform: translateX(-100%);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }

  @keyframes slide-in-right {
    from {
      transform: translateX(100%);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }

  .animate-tile-left {
    animation: slide-in-left 1s cubic-bezier(0.4, 0, 0.2, 1) forwards;
  }

  .animate-tile-right {
    animation: slide-in-right 1s cubic-bezier(0.4, 0, 0.2, 1) forwards;
  }

  /* Styles pour les carreaux */
  .puzzle-tile {
    position: absolute;
    background-size: cover;
    overflow: hidden;
    opacity: 0;
  }

  .puzzle-tile img {
    position: absolute;
    width: 400%;
    height: 200%;
    object-fit: cover;
  }
</style>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    // Configuration du puzzle
    const puzzleConfig = {
      columns: 4,
      rows: 2,
      imageUrl: "/images/image1.jpg",
      animationDelay: 0.10,
    };

    // Génération des carreaux du puzzle
    const puzzleContainer = document.getElementById("puzzle-container");
    puzzleContainer.innerHTML = ""; // Nettoyer le conteneur

    // Utiliser une approche d'image complète avec des clips
    const imageWidth = 100;
    const imageHeight = 100;
    const tileWidth = imageWidth / puzzleConfig.columns;
    const tileHeight = imageHeight / puzzleConfig.rows;

    // Précharger l'image pour éviter les flashs
    const img = new Image();
    img.src = puzzleConfig.imageUrl;

    img.onload = function () {
      for (let row = 0; row < puzzleConfig.rows; row++) {
        for (let col = 0; col < puzzleConfig.columns; col++) {
          const i = row * puzzleConfig.columns + col;

          // Créer un carreau
          const tile = document.createElement("div");
          tile.className = `puzzle-tile ${
            i % 2 === 0 ? "animate-tile-left" : "animate-tile-right"
          }`;

          // Position et dimensions exactes
          tile.style.top = `${row * tileHeight}%`;
          tile.style.left = `${col * tileWidth}%`;
          tile.style.width = `${tileWidth}%`;
          tile.style.height = `${tileHeight}%`;

          // Utiliser l'image de fond directement pour éviter les espaces
          tile.style.backgroundImage = `url(${puzzleConfig.imageUrl})`;
          tile.style.backgroundSize = `${puzzleConfig.columns * 100}% ${
            puzzleConfig.rows * 100
          }%`;
          tile.style.backgroundPosition = `${-col * 100}% ${-row * 100}%`;

          // Délai d'animation progressif
          tile.style.animationDelay = `${i * puzzleConfig.animationDelay}s`;

          puzzleContainer.appendChild(tile);
        }
      }
    };

    // Animation du texte (script existant)
    const heroSection = document.querySelector(".hero");
    heroSection.classList.add("slide-in");
  });
</script>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    // Sélectionner les images dans la section RÉALISATIONS
    // Utiliser un sélecteur plus précis pour cibler exactement vos images
    let currentIndex = 0;
    const images = Array.from(document.querySelectorAll('.bg-white.py-16 .grid img'));
    
    // Fonction pour afficher l'image en plein écran
    function showImage(index) {
      // Créer la div de fond pour l'affichage plein écran
      const fullScreenDiv = document.createElement('div');
      fullScreenDiv.style.position = 'fixed';
      fullScreenDiv.style.top = '0';
      fullScreenDiv.style.left = '0';
      fullScreenDiv.style.width = '100%';
      fullScreenDiv.style.height = '100%';
      fullScreenDiv.style.backgroundColor = 'rgba(0, 0, 0, 0.9)'; // Fond plus sombre pour meilleur contraste
      fullScreenDiv.style.display = 'flex';
      fullScreenDiv.style.justifyContent = 'center';
      fullScreenDiv.style.alignItems = 'center';
      fullScreenDiv.style.zIndex = '9999'; // Z-index élevé pour être au-dessus de tout

      // Créer l'élément image
      const fullScreenImg = document.createElement('img');
      fullScreenImg.src = images[index].src;
      fullScreenImg.style.maxWidth = '85%';
      fullScreenImg.style.maxHeight = '85%';
      fullScreenImg.style.objectFit = 'contain';
      
      // Bouton suivant avec icône
      const nextButton = document.createElement('div');
      nextButton.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg>';
      nextButton.style.position = 'absolute';
      nextButton.style.right = '30px';
      nextButton.style.top = '50%';
      nextButton.style.transform = 'translateY(-50%)';
      nextButton.style.backgroundColor = 'rgba(232, 149, 15, 0.7)'; // Couleur orange de votre thème
      nextButton.style.borderRadius = '50%';
      nextButton.style.width = '60px';
      nextButton.style.height = '60px';
      nextButton.style.display = 'flex';
      nextButton.style.justifyContent = 'center';
      nextButton.style.alignItems = 'center';
      nextButton.style.cursor = 'pointer'; // Important pour indiquer que c'est cliquable
      nextButton.style.boxShadow = '0 0 10px rgba(0,0,0,0.5)'; // Ombre pour meilleure visibilité
      
      nextButton.addEventListener('mouseover', () => {
        nextButton.style.backgroundColor = 'rgba(232, 149, 15, 0.9)';
      });
      nextButton.addEventListener('mouseout', () => {
        nextButton.style.backgroundColor = 'rgba(232, 149, 15, 0.7)';
      });
      nextButton.addEventListener('click', (e) => {
        e.stopPropagation();
        currentIndex = (currentIndex + 1) % images.length;
        document.body.removeChild(fullScreenDiv);
        showImage(currentIndex);
      });

      // Bouton précédent avec icône
      const prevButton = document.createElement('div');
      prevButton.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"></polyline></svg>';
      prevButton.style.position = 'absolute';
      prevButton.style.left = '30px';
      prevButton.style.top = '50%';
      prevButton.style.transform = 'translateY(-50%)';
      prevButton.style.backgroundColor = 'rgba(232, 149, 15, 0.7)';
      prevButton.style.borderRadius = '50%';
      prevButton.style.width = '60px';
      prevButton.style.height = '60px';
      prevButton.style.display = 'flex';
      prevButton.style.justifyContent = 'center';
      prevButton.style.alignItems = 'center';
      prevButton.style.cursor = 'pointer';
      prevButton.style.boxShadow = '0 0 10px rgba(0,0,0,0.5)';
      
      prevButton.addEventListener('mouseover', () => {
        prevButton.style.backgroundColor = 'rgba(232, 149, 15, 0.9)';
      });
      prevButton.addEventListener('mouseout', () => {
        prevButton.style.backgroundColor = 'rgba(232, 149, 15, 0.7)';
      });
      prevButton.addEventListener('click', (e) => {
        e.stopPropagation();
        currentIndex = (currentIndex - 1 + images.length) % images.length;
        document.body.removeChild(fullScreenDiv);
        showImage(currentIndex);
      });

      // Bouton de fermeture
      const closeButton = document.createElement('div');
      closeButton.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>';
      closeButton.style.position = 'absolute';
      closeButton.style.top = '20px';
      closeButton.style.right = '20px';
      closeButton.style.backgroundColor = 'rgba(232, 149, 15, 0.7)';
      closeButton.style.borderRadius = '50%';
      closeButton.style.width = '40px';
      closeButton.style.height = '40px';
      closeButton.style.display = 'flex';
      closeButton.style.justifyContent = 'center';
      closeButton.style.alignItems = 'center';
      closeButton.style.cursor = 'pointer';
      closeButton.style.boxShadow = '0 0 10px rgba(0,0,0,0.5)';
      
      closeButton.addEventListener('mouseover', () => {
        closeButton.style.backgroundColor = 'rgba(232, 149, 15, 0.9)';
      });
      closeButton.addEventListener('mouseout', () => {
        closeButton.style.backgroundColor = 'rgba(232, 149, 15, 0.7)';
      });
      closeButton.addEventListener('click', () => {
        document.body.removeChild(fullScreenDiv);
      });

      // Ajouter tous les éléments au DOM
      fullScreenDiv.appendChild(fullScreenImg);
      fullScreenDiv.appendChild(nextButton);
      fullScreenDiv.appendChild(prevButton);
      fullScreenDiv.appendChild(closeButton);
      document.body.appendChild(fullScreenDiv);

      // Fermer en cliquant sur le fond
      fullScreenDiv.addEventListener('click', (e) => {
        if (e.target === fullScreenDiv) {
          document.body.removeChild(fullScreenDiv);
        }
      });
    }

    // Attacher les événements de clic aux images
    // Utiliser le sélecteur qui correspond à votre structure HTML actuelle
    const cards = document.querySelectorAll('.bg-white.py-16 .grid .group');
    cards.forEach((card, index) => {
      card.addEventListener('click', (e) => {
        e.preventDefault();
        currentIndex = index;
        showImage(currentIndex);
      });
    });
    
    // Afficher un message dans la console pour vérifier que le script s'exécute
    console.log('Script de galerie chargé avec', images.length, 'images');
  });
</script>
